@model TodoListMVC.Models.TaskModel

@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Sửa Task</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container">
        <div class="row mt-5">
            <div class="col-md-8 offset-md-2">
                <h1 class="display-4">Sửa Task</h1>
                <hr />

                @* 2. Bắt đầu Form. Nó sẽ POST đến Action "Edit" *@
                @using (Html.BeginForm("Edit", "Tasks", FormMethod.Post))
                {
                <div class="mb-3">
                    <label class="form-label">Tên Task</label>
                    @* 3. Hiển thị ô input VỚI GIÁ TRỊ CÓ SẴN (Title) *@
                    @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "form-control form-control-lg" } })
                </div>

                <div class="mb-3 form-check">
                    @* 4. Hiển thị checkbox VỚI TRẠNG THÁI CÓ SẴN (IsCompleted) *@
                    @Html.CheckBoxFor(model => model.IsCompleted, new { @class = "form-check-input" })
                    <label class="form-check-label">Đã hoàn thành?</label>
                </div>

                @* 5. (CỰC KỲ QUAN TRỌNG) Gửi ID đi một cách "bí mật"
                    Nếu không có dòng này, Controller (POST) sẽ không biết phải UPDATE task nào *@
                @Html.HiddenFor(model => model.Id)

                <div class="mb-3">
                    <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
                    @Html.ActionLink("Quay lại Danh sách", "Index", null, new { @class = "btn btn-secondary" })
                </div>
                }
            </div>
        </div>
    </div>
</body>
</html>